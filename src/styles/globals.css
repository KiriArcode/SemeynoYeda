@import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;600;700;800;900&family=Share+Tech+Mono&family=Noto+Sans+JP:wght@400;500;700&family=Chakra+Petch:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@theme {
  /* ══════════════════════════════════════
     BACKGROUNDS — 5 levels of depth
     ══════════════════════════════════════ */
  --color-void: #0B0E14;
  --color-panel: #111620;
  --color-dimension: #141821;
  --color-card: #161C2A;
  --color-rift: #1C2230;
  --color-elevated: #1E2538;
  --color-nebula: #252D3B;
  --color-hover: #1A2235;

  /* ══════════════════════════════════════
     PORTAL — primary accent
     ══════════════════════════════════════ */
  --color-portal: #39FF14;
  --color-portal-dim: #00E676;
  --color-portal-glow: rgba(57, 255, 20, 0.12);
  --color-portal-soft: rgba(57, 255, 20, 0.05);
  --color-portal-mist: rgba(57, 255, 20, 0.06);

  /* ══════════════════════════════════════
     ACCENT COLORS
     ══════════════════════════════════════ */
  --color-accent-pink: #FF6B9D;
  --color-accent-cyan: #00E5FF;
  --color-accent-orange: #FF9100;
  --color-accent-yellow: #FFE500;
  --color-accent-purple: #B388FF;

  /* ══════════════════════════════════════
     FOOD — content colors
     ══════════════════════════════════════ */
  --color-ramen: #FFB347;
  --color-miso: #E8985A;
  --color-matcha: #8DB580;
  --color-sakura: #FFB7C5;
  --color-frost: #8DB5E0;
  --color-plasma: #B197FC;

  /* ══════════════════════════════════════
     TEXT — hierarchy
     ══════════════════════════════════════ */
  --color-text-primary: #E8ECF4;
  --color-text-light: #F0EDE8;
  --color-text-secondary: #8892A6;
  --color-text-mid: #9BA3B2;
  --color-text-muted: #525D72;
  --color-text-dim: #5A6270;
  --color-text-ghost: #3A4150;
  --color-text-inverse: #0B0E14;

  /* ══════════════════════════════════════
     FAMILY MEMBER COLORS
     Коля = cyan, Кристина = pink, Оба = portal
     ══════════════════════════════════════ */
  --color-kolya: #00E5FF;
  --color-kristina: #FF6B9D;
  /* 'both' uses --color-portal (#39FF14) */

  /* ══════════════════════════════════════
     FONTS
     ══════════════════════════════════════ */
  --font-heading: 'Exo 2', 'Chakra Petch', sans-serif;
  --font-body: 'DM Sans', 'Noto Sans JP', sans-serif;
  --font-mono: 'Share Tech Mono', 'JetBrains Mono', monospace;
  --font-jp: 'Noto Sans JP', sans-serif;

  /* ══════════════════════════════════════
     SPACING
     ══════════════════════════════════════ */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;

  /* ══════════════════════════════════════
     BORDER-RADIUS
     ══════════════════════════════════════ */
  --radius-tag: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-button: 10px;
  --radius-card: 12px;
  --radius-lg: 14px;
  --radius-xl: 16px;
  --radius-modal: 20px;
  --radius-pill: 9999px;

  /* ══════════════════════════════════════
     SHADOWS
     ══════════════════════════════════════ */
  --shadow-card: 0 4px 16px rgba(0, 0, 0, 0.2);
  --shadow-glow: 0 0 24px rgba(57, 255, 20, 0.12);
  --shadow-elevate: 0 8px 32px rgba(0, 0, 0, 0.3);
  --shadow-nav: 0 -2px 16px rgba(0, 0, 0, 0.3);
}

:root {
  /* ═══ BORDERS (не поддерживаются в @theme) ═══ */
  --border-standard: 1px solid #1E2538;
  --border-subtle: 1px solid rgba(255, 255, 255, 0.03);
  --border-hover: 1px solid rgba(57, 255, 20, 0.25);
  --border-active: 1px solid rgba(57, 255, 20, 0.4);
  --border-divider: 1px solid #161C2A;
}

/* ══════════════════════════════════════
   ANIMATIONS
   ══════════════════════════════════════ */
@keyframes cardAppear {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
  from { opacity: 0; max-height: 0; }
  to { opacity: 1; max-height: 500px; }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes portalPulse {
  0%, 100% { box-shadow: 0 0 16px rgba(57, 255, 20, 0.2); }
  50% { box-shadow: 0 0 24px rgba(57, 255, 20, 0.35); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes portalFloat {
  0%, 100% { transform: translate(0, 0) scale(1); }
  50% { transform: translate(20px, -20px) scale(1.05); }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-card-appear {
  animation: cardAppear 0.35s ease-out both;
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out both;
}

.animate-slide-down {
  animation: slideDown 0.2s ease-out;
}

.animate-portal-pulse {
  animation: portalPulse 2s ease-in-out infinite;
}

.animate-pulse-slow {
  animation: pulse 2s ease-in-out infinite;
}

/* ══════════════════════════════════════
   BASE STYLES
   ══════════════════════════════════════ */
body {
  font-family: var(--font-body);
  color: var(--text-light);
  background: var(--void);
  -webkit-font-smoothing: antialiased;
  margin: 0;
  padding: 0;
}

/* Default transition */
* {
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Card hover */
.card-hover {
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.25s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow);
  border-color: rgba(57, 255, 20, 0.3);
}

/* ══════════════════════════════════════
   FAMILY MEMBER BORDER STRIPS
   Коля = cyan (#00E5FF), Кристина = pink (#FF6B9D), Оба = portal
   ══════════════════════════════════════ */
.meal-border-kolya    { border-left: 3px solid #00E5FF; }
.meal-border-kristina { border-left: 3px solid #FF6B9D; }
.meal-border-both     { border-left: 3px solid #39FF14; }
.meal-border-mixed    { border-left: 3px solid #252D3B; }

/* ══════════════════════════════════════
   PORTAL BLOBS (background decoration)
   ══════════════════════════════════════ */
.portal-blobs {
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
  pointer-events: none;
}

.portal-blob-1 {
  position: absolute;
  top: -20%;
  right: -10%;
  width: 600px;
  height: 600px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(57, 255, 20, 0.12) 0%, transparent 70%);
  filter: blur(80px);
  animation: portalFloat 8s ease-in-out infinite;
}

.portal-blob-2 {
  position: absolute;
  bottom: -15%;
  left: -5%;
  width: 500px;
  height: 500px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(0, 229, 255, 0.08) 0%, transparent 70%);
  filter: blur(60px);
  animation: portalFloat 10s ease-in-out infinite reverse;
}

.portal-blob-3 {
  position: absolute;
  top: 40%;
  left: 50%;
  width: 300px;
  height: 300px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(255, 107, 157, 0.06) 0%, transparent 70%);
  filter: blur(50px);
  animation: portalFloat 12s ease-in-out infinite;
}

/* ══════════════════════════════════════
   SCROLL SNAP
   ══════════════════════════════════════ */
.week-scroll {
  scroll-snap-type: x mandatory;
}

.day-column {
  scroll-snap-align: start;
}

/* ══════════════════════════════════════
   SCROLLBAR
   ══════════════════════════════════════ */
::-webkit-scrollbar {
  width: 5px;
  height: 5px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--elevated);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--portal);
}

/* ══════════════════════════════════════
   DIMENSION LABELS (sci-fi decorative)
   ══════════════════════════════════════ */
.dim-label {
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--portal-dim);
}

/* ══════════════════════════════════════
   EMPTY STATE
   ══════════════════════════════════════ */
.empty-state {
  padding: 32px;
  background: var(--void);
  border-radius: 14px;
  border: 1px dashed rgba(255, 255, 255, 0.06);
  text-align: center;
}

.empty-state-emoji {
  font-size: 40px;
  margin-bottom: 12px;
  filter: grayscale(0.3);
}

.empty-state-title {
  font-family: var(--font-heading);
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 4px;
}

.empty-state-jp {
  font-family: var(--font-jp);
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 12px;
}

.empty-state-desc {
  font-family: var(--font-heading);
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 16px;
}

/* ══════════════════════════════════════
   PREFERS-REDUCED-MOTION
   Отключение анимаций для пользователей с prefers-reduced-motion
   ══════════════════════════════════════ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Отключение глитч-эффектов */
  [class*="glitch"] *,
  [data-glitch="true"] * {
    animation: none !important;
    transition: none !important;
  }
}
